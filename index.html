<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Berqurban Bersama UNP Padang</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .btn.active {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.2);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #3498db;
        }

        .card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .price-tag {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            font-weight: bold;
            margin-top: 10px;
        }

        .participants-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #ecf0f1;
            border-radius: 10px;
            padding: 15px;
        }

        .participant-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #ecf0f1;
            transition: background-color 0.3s ease;
        }

        .participant-item:hover {
            background-color: #f8f9fa;
        }

        .participant-item:last-child {
            border-bottom: none;
        }

        .delete-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .delete-btn:hover {
            background: #c0392b;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(45deg, #8e44ad, #9b59b6);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(142, 68, 173, 0.3);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #c3e6cb;
            display: none;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #f5c6cb;
            display: none;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 30px;
            padding: 20px;
        }

        .download-btn {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            margin-left: 10px;
        }

        .download-btn:hover {
            box-shadow: 0 6px 20px rgba(243, 156, 18, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üêÑ Berqurban Bersama UNP Padang</h1>
            <p class="subtitle">Platform Digital untuk Koordinasi Qurban Tahun 1447 H</p>
            <div class="nav-buttons">
                <button class="btn active" onclick="showSection('home')">üè† Beranda</button>
                <button class="btn" onclick="showSection('register')">üìù Daftar Qurban</button>
                <button class="btn" onclick="showSection('participants')">üë• Daftar Peserta</button>
                <button class="btn" onclick="showSection('packages')">üì¶ Paket Qurban</button>
                <button class="btn" onclick="showSection('info')">‚ÑπÔ∏è Informasi</button>
            </div>
        </header>

        <div class="content">
            <div id="success-msg" class="success-message"></div>
            <div id="error-msg" class="error-message"></div>

            <!-- Section Beranda -->
            <div id="home" class="section active">
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number" id="total-participants">0</div>
                        <div>Total Peserta</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-amount">Rp 0</div>
                        <div>Total Terkumpul</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-animals">0</div>
                        <div>Hewan Qurban</div>
                    </div>
                </div>

                <div class="card">
                    <h3>üïå Selamat Datang di Portal Qurban UNP Padang</h3>
                    <p>Alhamdulillah, kami mengundang seluruh civitas akademika UNP untuk berpartisipasi dalam ibadah qurban tahun 1447 H. Platform ini memudahkan pendaftaran dan koordinasi kegiatan qurban di lingkungan Universitas Negeri Padang.</p>
                    
                    <h4 style="margin-top: 20px; color: #2c3e50;">üìÖ Jadwal Penting:</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Pendaftaran: 1 Mei - 15 Juni 2025</li>
                        <li>Pelaksanaan: 17 Juni 2025 (10 Dzulhijjah 1447 H)</li>
                        <li>Lokasi: Masjid Kampus UNP Padang</li>
                    </ul>
                </div>
            </div>

            <!-- Section Pendaftaran -->
            <div id="register" class="section">
                <div class="card">
                    <h3>üìù Form Pendaftaran Qurban</h3>
                    <form id="qurbanForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="nama">Nama Lengkap *</label>
                                <input type="text" id="nama" name="nama" required>
                            </div>
                            <div class="form-group">
                                <label for="nip">NIP/NIM *</label>
                                <input type="text" id="nip" name="nip" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email *</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="telepon">No. Telepon *</label>
                                <input type="tel" id="telepon" name="telepon" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="fakultas">Fakultas/Unit *</label>
                                <select id="fakultas" name="fakultas" required>
                                    <option value="">Pilih Fakultas/Unit</option>
                                    <option value="FIP">Fakultas Ilmu Pendidikan</option>
                                    <option value="FBS">Fakultas Bahasa dan Seni</option>
                                    <option value="FMIPA">Fakultas Matematika dan IPA</option>
                                    <option value="FIS">Fakultas Ilmu Sosial</option>
                                    <option value="FT">Fakultas Teknik</option>
                                    <option value="FIK">Fakultas Ilmu Keolahragaan</option>
                                    <option value="FE">Fakultas Ekonomi</option>
                                    <option value="FPP">Fakultas Pariwisata dan Perhotelan</option>
                                    <option value="Rektorat">Rektorat</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="status">Status *</label>
                                <select id="status" name="status" required>
                                    <option value="">Pilih Status</option>
                                    <option value="Dosen">Dosen</option>
                                    <option value="Karyawan">Karyawan</option>
                                    <option value="Mahasiswa">Mahasiswa</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="paket">Paket Qurban *</label>
                                <select id="paket" name="paket" required onchange="updateHarga()">
                                    <option value="">Pilih Paket</option>
                                    <option value="Sapi_Patungan">Sapi Patungan (1/7 bagian) - Rp 2.500.000</option>
                                    <option value="Kambing_Individual">Kambing Individual - Rp 3.500.000</option>
                                    <option value="Sapi_Penuh">Sapi Penuh (1 ekor) - Rp 17.500.000</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="harga">Harga</label>
                                <input type="text" id="harga" name="harga" readonly>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="alamat">Alamat Lengkap *</label>
                            <textarea id="alamat" name="alamat" rows="3" required></textarea>
                        </div>

                        <div class="form-group">
                            <label for="catatan">Catatan/Permintaan Khusus</label>
                            <textarea id="catatan" name="catatan" rows="2" placeholder="Contoh: Mohon daging diserahkan hari H, atau permintaan lainnya"></textarea>
                        </div>

                        <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">
                            ‚úÖ Daftar Qurban
                        </button>
                    </form>
                </div>
            </div>

            <!-- Section Daftar Peserta -->
            <div id="participants" class="section">
                <div class="card">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3>üë• Daftar Peserta Qurban</h3>
                        <button class="btn download-btn" onclick="downloadData()">üì• Download JSON</button>
                    </div>
                    <div class="participants-list" id="participantsList">
                        <p style="text-align: center; color: #7f8c8d;">Belum ada peserta yang terdaftar.</p>
                    </div>
                </div>
            </div>

            <!-- Section Paket Qurban -->
            <div id="packages" class="section">
                <div class="card">
                    <h3>üêÑ Sapi Patungan (1/7 bagian)</h3>
                    <p>Ideal untuk keluarga kecil atau individual yang ingin berqurban dengan biaya terjangkau.</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Sapi berkualitas premium, sehat dan memenuhi syarat</li>
                        <li>Dibagi untuk 7 orang peserta</li>
                        <li>Daging ¬±25-30 kg per peserta</li>
                        <li>Sudah termasuk biaya penyembelihan</li>
                    </ul>
                    <div class="price-tag">Rp 2.500.000</div>
                </div>

                <div class="card">
                    <h3>üêê Kambing Individual</h3>
                    <p>Pilihan tepat untuk qurban individual dengan daging kambing yang lezat.</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Kambing jantan/betina berkualitas baik</li>
                        <li>Berat hidup minimal 40 kg</li>
                        <li>Daging ¬±20-25 kg</li>
                        <li>Penyembelihan sesuai syariat Islam</li>
                    </ul>
                    <div class="price-tag">Rp 3.500.000</div>
                </div>

                <div class="card">
                    <h3>üêÑ Sapi Penuh (1 ekor)</h3>
                    <p>Untuk yang ingin berqurban satu ekor sapi utuh, cocok untuk komunitas atau keluarga besar.</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Sapi premium dengan berat minimal 400 kg</li>
                        <li>Daging ¬±200-250 kg</li>
                        <li>Dapat dibagi untuk keluarga besar</li>
                        <li>Penanganan profesional dan higienis</li>
                    </ul>
                    <div class="price-tag">Rp 17.500.000</div>
                </div>
            </div>

            <!-- Section Informasi -->
            <div id="info" class="section">
                <div class="card">
                    <h3>üìã Syarat dan Ketentuan</h3>
                    <ol style="margin-left: 20px; margin-top: 10px;">
                        <li>Pendaftaran dibuka untuk seluruh civitas akademika UNP</li>
                        <li>Pembayaran dapat dilakukan secara tunai atau transfer</li>
                        <li>Pembayaran paling lambat 3 hari sebelum pelaksanaan</li>
                        <li>Hewan qurban telah diperiksa dan memenuhi syarat syariat</li>
                        <li>Penyembelihan dilakukan oleh petugas yang berpengalaman</li>
                        <li>Daging akan dibagikan sesuai permintaan peserta</li>
                    </ol>
                </div>

                <div class="card">
                    <h3>üìû Kontak Panitia</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                        <div>
                            <strong>Koordinator Umum:</strong><br>
                            Dr. Ahmad Syukri, M.Pd<br>
                            üì± 0812-3456-7890
                        </div>
                        <div>
                            <strong>Sekretaris:</strong><br>
                            Dra. Siti Fatimah, M.Si<br>
                            üì± 0813-4567-8901
                        </div>
                        <div>
                            <strong>Bendahara:</strong><br>
                            Prof. Dr. Muhammad Ali<br>
                            üì± 0814-5678-9012
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üè¶ Informasi Pembayaran</h3>
                    <p><strong>Bank Mandiri</strong><br>
                    No. Rekening: 1234567890<br>
                    a.n. Panitia Qurban UNP Padang</p>
                    
                    <p style="margin-top: 15px;"><strong>Bank BRI</strong><br>
                    No. Rekening: 0987654321<br>
                    a.n. Panitia Qurban UNP Padang</p>
                    
                    <p style="margin-top: 15px; color: #e74c3c; font-weight: bold;">
                        üí° Mohon konfirmasi pembayaran via WhatsApp ke koordinator
                    </p>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>üïå Berqurban Bersama UNP Padang 1447 H | Taqabbalallahu minna wa minkum</p>
            <p>üíª Dibuat dengan ‚ù§Ô∏è untuk Civitas Akademika UNP</p>
        </div>
    </div>

    <script>
        // Data storage
        let participants = JSON.parse(localStorage.getItem('qurbanParticipants')) || [];
        
        // Navigation
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Update stats and participants list if needed
            if (sectionId === 'home') {
                updateStats();
            } else if (sectionId === 'participants') {
                displayParticipants();
            }
        }

        // Update price based on selected package
        function updateHarga() {
            const paket = document.getElementById('paket').value;
            const hargaField = document.getElementById('harga');
            
            const prices = {
                'Sapi_Patungan': 'Rp 2.500.000',
                'Kambing_Individual': 'Rp 3.500.000',
                'Sapi_Penuh': 'Rp 17.500.000'
            };
            
            hargaField.value = prices[paket] || '';
        }

        // Form submission
        document.getElementById('qurbanForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const participant = {};
            
            for (let [key, value] of formData.entries()) {
                participant[key] = value;
            }
            
            // Add timestamp and ID
            participant.id = Date.now();
            participant.tanggal_daftar = new Date().toLocaleString('id-ID');
            
            // Add to participants array
            participants.push(participant);
            
            // Save to localStorage
            localStorage.setItem('qurbanParticipants', JSON.stringify(participants));
            
            // Show success message
            showMessage('success', `‚úÖ Pendaftaran berhasil! Terima kasih ${participant.nama} telah mendaftar qurban.`);
            
            // Reset form
            this.reset();
            
            // Update stats
            updateStats();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Display participants
        function displayParticipants() {
            const container = document.getElementById('participantsList');
            
            if (participants.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #7f8c8d;">Belum ada peserta yang terdaftar.</p>';
                return;
            }
            
            let html = '';
            participants.forEach((participant, index) => {
                html += `
                    <div class="participant-item">
                        <div>
                            <strong>${participant.nama}</strong> (${participant.nip})<br>
                            <small>${participant.fakultas} - ${participant.status}</small><br>
                            <small>üì¶ ${participant.paket.replace('_', ' ')} | üìÖ ${participant.tanggal_daftar}</small><br>
                            <small>üìß ${participant.email} | üì± ${participant.telepon}</small>
                        </div>
                        <button class="delete-btn" onclick="removeParticipant(${index})">üóëÔ∏è Hapus</button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // Remove participant
        function removeParticipant(index) {
            if (confirm('Apakah Anda yakin ingin menghapus peserta ini?')) {
                const removedParticipant = participants.splice(index, 1)[0];
                localStorage.setItem('qurbanParticipants', JSON.stringify(participants));
                displayParticipants();
                updateStats();
                showMessage('success', `Peserta ${removedParticipant.nama} berhasil dihapus.`);
            }
        }

        // Update statistics
        function updateStats() {
            const totalParticipants = participants.length;
            let totalAmount = 0;
            let totalAnimals = 0;
            
            participants.forEach(participant => {
                const prices = {
                    'Sapi_Patungan': 2500000,
                    'Kambing_Individual': 3500000,
                    'Sapi_Penuh': 17500000
                };
                
                totalAmount += prices[participant.paket] || 0;
                
                // Count animals (sapi patungan counts as 1/7)
                if (participant.paket === 'Sapi_Patungan') {
                    totalAnimals += 1/7;
                } else {
                    totalAnimals += 1;
                }
            });
            
            document.getElementById('total-participants').textContent = totalParticipants;
            document.getElementById('total-amount').textContent = new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0
            }).format(totalAmount);
            document.getElementById('total-animals').textContent = Math.ceil(totalAnimals);
        }

        // Download data as JSON
        function downloadData() {
            if (participants.length === 0) {
                showMessage('error', 'Tidak ada data untuk diunduh.');
                return;
            }
            
            const dataStr = JSON.stringify(participants, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `qurban_unp_${getCurrentDate()}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            showMessage('success', 'Data berhasil diunduh!');
        }

        // Show message
        function showMessage(type, message) {
            const successMsg = document.getElementById('success-msg');
            const errorMsg = document.getElementById('error-msg');
            
            // Hide all messages first
            successMsg.style.display = 'none';
            errorMsg.style.display = 'none';
            
            if (type === 'success') {
                successMsg.textContent = message;
                successMsg.style.display = 'block';
            } else {
                errorMsg.textContent = message;
                errorMsg.style.display = 'block';
            }
            
            // Auto hide after 5 seconds
            setTimeout(() => {
                successMsg.style.display = 'none';
                errorMsg.style.display = 'none';
            }, 5000);
        }

        // Get current date
        function getCurrentDate() {
            const now = new Date();
            return now.toISOString().split('T')[0];
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
        });

        // Auto-save data every 30 seconds
        setInterval(() => {
            if (participants.length > 0) {
                localStorage.setItem('qurbanParticipants', JSON.stringify(participants));
            }
        }, 30000);
    </script>
</body>
</html>